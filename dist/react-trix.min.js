!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("React")):"function"==typeof define&&define.amd?define(["React"],e):"object"==typeof exports?exports["react-trix"]=e(require("React")):t["react-trix"]=e(t.React)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="dist/",e(e.s=1)}([function(e,n){e.exports=t},function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var React=n(0),o=function(t){function e(e){var n=t.call(this,e)||this;return n.editor=null,n.state={id:n.generateId()},n}return r(e,t),e.prototype.generateId=function(){var t=Date.now(),e=0;return function(){t<=e?t=++e:e=t}(),"T"+t.toString()},e.prototype.componentDidMount=function(){var t=this.state,e=this.props,n=document.createElement("trix-editor");n.id="editor-"+t.id,n.setAttribute("input","input-"+t.id),e.autoFocus&&n.setAttribute("autoFocus",e.autoFocus.toString()),e.placeholder&&n.setAttribute("placeholder",e.placeholder),document.getElementById("te-"+this.state.id).appendChild(n),this.editor=document.getElementById("editor-"+this.state.id),this.editor.addEventListener("trix-initialize",this.handleChange.bind(this)),this.editor.addEventListener("trix-change",this.handleChange.bind(this)),this.props.uploadURL&&this.editor.addEventListener("trix-attachment-add",this.handleUpload.bind(this))},e.prototype.componentWillUnmount=function(){this.editor.removeEventListener("trix-initialize",this.handleChange),this.editor.removeEventListener("trix-change",this.handleChange),this.props.uploadURL&&this.editor.removeEventListener("trix-attachment-add",this.handleUpload)},e.prototype.handleChange=function(t){this.props.onChange&&this.props.onChange(t.target.innerHTML,t.target.innerText)},e.prototype.handleUpload=function(t){var e=t.attachment;if(e.file)return this.uploadAttachment(e)},e.prototype.uploadAttachment=function(t){var e,n,r;if(e=t.file,n=new FormData,this.props.uploadData)for(var o in this.props.uploadData)n[o]=this.props.uploadData[o];return n.append("Content-Type",e.type),n.append("file",e),r=new XMLHttpRequest,r.open("POST",this.props.uploadURL,!0),r.upload.onprogress=function(e){var n=e.loaded/e.total*100;return t.setUploadProgress(n)},r.onload=function(){var e,n;if(204==r.status)return n=e=r.responseText,t.setAttributes({url:n,href:e})},r.send(n)},e.prototype.render=function(){var t=this.state;return React.createElement("div",{id:"te-"+t.id},React.createElement("input",{type:"hidden",id:"input-"+t.id,value:this.props.value}))},e}(React.Component);e.default=o}])});